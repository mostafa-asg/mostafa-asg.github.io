<!DOCTYPE html>
<html lang="en-us">
	<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Mostafa Asgari">
<meta name="description" content="Hadoop ecosystem , Java , Go , Micoroservices">
<meta name="generator" content="Hugo 0.30" />
<title>Enhance Hadoop MapReduce Speed for small jobs</title>
<link rel="shortcut icon" href="https://mostafa-asg.github.io/images/favicon.ico">
<link rel="stylesheet" href="https://mostafa-asg.github.io/css/style.css">
<link rel="stylesheet" href="https://mostafa-asg.github.io/css/highlight.css">



<link rel="stylesheet" href="https://mostafa-asg.github.io/css/monosocialiconsfont.css">



<link href="https://mostafa-asg.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Software Engineering Blog" />


<meta property="og:title" content="Enhance Hadoop MapReduce Speed for small jobs" />
<meta property="og:description" content="Introduction There are some circumstances when input of Hadoop&rsquo;s MapReduce is relatively small. Consequently the overhead of allocating and running tasks in new containers outweighs the gain to be had in running them in parallel, compared to running them sequentially on one node. Such a job is said to be uberized, or run as an uber task.
Enable uber optimization To enable uberized job, simply set mapreduce.job.ubertask.enable to true. But that is not sufficient." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mostafa-asg.github.io/post/enhance-hadoop-mapreduce-speed-small-jobs/" />



<meta property="article:published_time" content="2018-02-06T07:15:50&#43;03:30"/>

<meta property="article:modified_time" content="2018-02-06T07:15:50&#43;03:30"/>













<meta itemprop="name" content="Enhance Hadoop MapReduce Speed for small jobs">
<meta itemprop="description" content="Introduction There are some circumstances when input of Hadoop&rsquo;s MapReduce is relatively small. Consequently the overhead of allocating and running tasks in new containers outweighs the gain to be had in running them in parallel, compared to running them sequentially on one node. Such a job is said to be uberized, or run as an uber task.
Enable uber optimization To enable uberized job, simply set mapreduce.job.ubertask.enable to true. But that is not sufficient.">


<meta itemprop="datePublished" content="2018-02-06T07:15:50&#43;03:30" />
<meta itemprop="dateModified" content="2018-02-06T07:15:50&#43;03:30" />
<meta itemprop="wordCount" content="142">



<meta itemprop="keywords" content="" />

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Enhance Hadoop MapReduce Speed for small jobs"/>
<meta name="twitter:description" content="Introduction There are some circumstances when input of Hadoop&rsquo;s MapReduce is relatively small. Consequently the overhead of allocating and running tasks in new containers outweighs the gain to be had in running them in parallel, compared to running them sequentially on one node. Such a job is said to be uberized, or run as an uber task.
Enable uber optimization To enable uberized job, simply set mapreduce.job.ubertask.enable to true. But that is not sufficient."/>
<meta name="twitter:site" content="@https://twitter.com/mostafaasg"/>


    </head>
<body>
    <nav class="main-nav">
	
		<a href='https://mostafa-asg.github.io'> <span class="arrow">←</span>Home</a>
	

	

	
		<a class="cta" href="https://mostafa-asg.github.io/index.xml">Subscribe</a>
	
</nav>

    <section id="wrapper">
        
        
<article class="post">
    <header>
        <h1>Enhance Hadoop MapReduce Speed for small jobs</h1>
        <h2 class="subtitle"></h2>
        <h2 class="headline">
        February 6, 2018
        <br>
        
        </h2>
    </header>
    <section id="post-body">
        

<h2 id="introduction">Introduction</h2>

<p>There are some circumstances when input of Hadoop&rsquo;s MapReduce is relatively small. Consequently the overhead
of allocating and running tasks in new containers outweighs the gain to be had in running them in parallel,
compared to running them sequentially on one node. Such a job is said to be <strong>uberized</strong>, or run as an <strong>uber</strong> task.</p>

<h2 id="enable-uber-optimization">Enable uber optimization</h2>

<p>To enable uberized job, simply set <strong>mapreduce.job.ubertask.enable</strong> to true. But that is not sufficient. To run in uber mode,
 you must also define what qualifies as a <em>small</em> job. This conditions must be met:</p>

<ul>
<li>mapreduce.job.ubertask.maxmaps (default: 9) &lt; job&rsquo;s total maps</li>
<li>number of job&rsquo;s reducers must be 1 or zero</li>
<li>Total length for all input splits &lt;= mapreduce.job.ubertask.maxbytes (default: hdfs block size)</li>
<li>max(mapreduce.map.memory.mb, mapreduce.reduce.memory.mb) &lt;= yarn.app.mapreduce.am.resource.mb</li>
<li>max(mapreduce.map.cpu.vcores, mapreduce.reduce.cpu.vcores) &lt;= yarn.app.mapreduce.am.resource.cpu-vcores</li>
<li>map class must not extend <strong>ChainMapper</strong></li>
<li>reduce class must not extend <strong>ChainReducer</strong></li>
</ul>

    </section>
</article>

<footer id="post-meta" class="clearfix">
    <a href="https://twitter.com/Your%20Twitter%20account">
    <img class="avatar" src="https://mostafa-asg.github.io/images/avatar.png">
    <div>
        <span class="dark">Mostafa Asgari</span>
        <span>Data Engineer</span>
    </div>
    </a>
    <section id="sharing">
        <a class="twitter" href="https://twitter.com/intent/tweet?text=https%3a%2f%2fmostafa-asg.github.io%2fpost%2fenhance-hadoop-mapreduce-speed-small-jobs%2f - Enhance%20Hadoop%20MapReduce%20Speed%20for%20small%20jobs by @Your%20Twitter%20account"><span class="icon-twitter"> tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>

    </section>
</footer>



<ul id="post-list" class="archive readmore">
    <h3>Read more</h3>

    
    
    
        <li>
            <a href="/posts/function-memorization-in-go/">Function Memorization in Go<aside class="dates">Mar 23 2018</aside></a>
        </li>
    
        <li>
            <a href="/content/posts/setcap-linux-command/">setcap Linux Command<aside class="dates">Mar 19 2018</aside></a>
        </li>
    
        <li>
            <a href="/posts/reactive-kafka-streams-sse-top5/">Kafka Streams &#43; SSE = Realtime web app<aside class="dates">Dec 30 2017</aside></a>
        </li>
    
        <li>
            <a href="/posts/publishing-text-messages-to-the-kafka-without-writing-any-code/">Publishing Text Messages to the Kafka Without Writing Any Code<aside class="dates">Nov 29 2017</aside></a>
        </li>
    
        <li>
            <a href="/posts/docker-swarm-golang-services-stack-deploy/">Docker Swarm (Part 2)<aside class="dates">Oct 10 2017</aside></a>
        </li>
    
        <li>
            <a href="/posts/say-hello-to-docker-swarm/">Say Hello to Docker Swarm<aside class="dates">Oct 4 2017</aside></a>
        </li>
    
</ul>



        <footer id="footer">
    
        <div id="social">

	
	
    
    <a class="symbol" href="https://www.dribbble.com/">
        circledribble
    </a>
    
    <a class="symbol" href="https://www.facebook.com/">
        circlefacebook
    </a>
    
    <a class="symbol" href="https://www.github.com/mostafa-asg">
        circlegithub
    </a>
    
    <a class="symbol" href="https://twitter.com/mostafaasg">
        circletwitterbird
    </a>
    


</div>

    
    <p class="small">
    
        © Copyright 2018 Mostafa Asgari
    
    </p>
</footer>

    </section>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://mostafa-asg.github.io/js/main.js"></script>
<script src="https://mostafa-asg.github.io/js/highlight.js"></script>
<script>hljs.initHighlightingOnLoad();</script>





</body>
</html>
